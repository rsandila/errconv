$(CVSBASE)/include/globalerrors.h: errconv $(CVSBASE)/Documents/Errors/errors.txt
	./errconv --in $(CVSBASE)/Documents/Errors/errors.txt --cout globalerrors --c++
	cp globalerrors.h $(CVSBASE)/include/globalerrors.h

$(CVSBASE)/lib/libglobalerrors.so: globalerrors.o
#	$(CC) -c -o globalerrors.o globalerrors.cpp
	$(LD) -o $(CVSBASE)/lib/libglobalerrors.so -Bdynamic -shared globalerrors.o

errtest: $(CVSBASE)/lib/libglobalerrors.so errtest.o
	$(CC) -o errtest errtest.o -L $(CVSBASE)/lib -lglobalerrors

$(CVSBASE)/java/error/SwxErrorErrors.java: errconv
	./errconv --in $(CVSBASE)/Documents/Errors/errors.txt --jout SwxError --java
	cp SwxErrorError.java $(CVSBASE)/java/error/
	cp SwxErrorImpLevel.java $(CVSBASE)/java/error/
	cp SwxErrorResponse.java $(CVSBASE)/java/error/
	rm SwxErrorError.java
	rm SwxErrorImpLevel.java
	rm SwxErrorResponse.java
	
test: errtest
	./errtest

